# 图像及其表达与性质   
图想表达       
图像和信号(依赖于具有某种物理意义的变量的函数) 常用数学模型来描述。       
函数可以是连续的，离散的或数字的。     
<br> 

连续图像函数     
亮度 brightness   
亮度图像 intensity image - 记录了明亮度信息的2D 图像，唯一信息是像素的亮度本身。       
2D 亮度图像 intensity image 是3D 场景的透视投影 perspective projection. 当3D 物体经过透视投影映射到摄像机平面后，大量的信息会丢失。          
非线性的透视投影常被近似为线性的平行（或正交投影, orthographic projection）。     
目标：恢复完整的3D 表达，建立图像中点的深度depth 这个中间表达层次。    
<b> 计算机视觉中的问题：恢复被透视投影损失的信息（几何问题），理解图像亮度 </b>  
图像处理通常考虑的是静态图像，平面两个坐标是变量，时间是常量。    
在单色图像中，最低值是黑色，最高值是白色。之间的亮度值是灰阶，gray-level.   
数字图像的品质随着空间，频谱，辐射剂量，时间分辨率增长而增高。空间分辨率,spatial resolution, 由图像平面上图像采样点间的接近成都确定的；频谱分辨率, spectral resolution 是由传感器获得的光线频率带宽决定的；辐射剂量分辨率, radiometric resolution，对英语可区分的灰阶数量；时间分辨率,time resolution, 取决于图像获取的时间采样间隔，处理的是图像的时间序列。     

<br>     
<b>图像数字化</b>       
图像必须用合适的离散数据结构来表达，比如，矩阵。    
传感器获取的图像是平面上两个坐标的连续函数f(x,y)。图像数字化是指将f(x,y) 采样(sampled) 为一个M行N列的矩阵。图像量化 quantization 给每个连续的样本数值一个整数数字，图像函数f(x,y) 的连续范围被划为K 个区间。采样及量化越精细(即M,N,K越大)，对连续函数f(x,y) 的近似就越好。         
<b>图像函数采样</b>     
有两个问题，其一是确定采样的间隔，即相邻两个采样图像点的距离；其二是设置采样点的集合排列（采样格栅）。   
普通的电视画面图像质量，512* 512像素；高清电视, HDTV, 1920* 1080像素。     
一个连续图像在采样点sampling point 处被数字化。这些采样点是在平面上排列的，称它们的几何关系为栅格（grid）。数字图像是一个数据结构，通常是矩阵；在实践中，格栅一般是方的或则正六边形的。     
栅格中一个无限小的采样点对应于数字化图像中的一个像元，也称作像素（pixel）或则图像元素（image element）。从图像分析的角度，像素是不能再分割的一个单位，用点来指一个像素。全体像素则覆盖了整个图像。       
栅格和光栅需要区别开，光栅（raster）是指在点之间定义了相邻关系的栅格。       
<b>量化</b>      
将图像函数的连续数值（亮度）转变为其数字等加量的过程。    
k个等间隔的量化方式，b位来表示像素亮度的数值，亮度阶就是k=2^b. 通常采用每个像素每个通道（红，蓝，绿各一个）8位的表示方式，也有16位。    
量化级别不够的时候，图像的主要问题是出现伪轮廓（false contours）；当亮度级别数小于人能够轻易地分辨出的量级时，会出现这个情况。   

<br>   
<br>     
<b>数字图像性质</b>  <br>     
2.3.1 数字图像的度量和拓扑性质   <br>     
一幅数字图像由有限大小的像素组成，像素反应图像特定位置处的亮度信息，通常像素按照矩形采样栅格布置。  <br>      
距离（distance）   <br> 
满足以下三个条件的任何函数是一种距离（或度量）：同一性，D(p,q)>=0，当且仅当p=q时，D(p,q)=0; 对称性，D(p,q)=D(q,p)；三角不等式，D(p,r)<=D(p,q)+D(q,r).      <br>  
有以下几种距离度量：欧氏距离(Euclidean distance)，优点是事实上是直观且显然的，缺点是平方根的计算费时且数值不是整数；城市街区距离(city block distance)，只允许横向和纵向的移动，表示为在数字栅格上从起点移动到终点所需的最少的基本步数；棋盘距离(chessboard distance)，在数字栅格中允许对角线方向的移动。        <br> 
像素邻接性(adjacency)，如果一个像素上下左右都是邻接的，任意两个像素之间的距离D4(p,1)=1，则称彼此是4-邻接(4-neighbors)；如果一个像素周围正方形一圈都是邻接的，任意两个像素之间的距离D8(p,1)=1，则称彼此是8-邻接(8-neighbors).    
由一些彼此邻接的像素组成的重要聚合，称为区域（regions）. 从像素P 到像素Q 的路径为一个点序列A1,A2,....,An. A1=P, An=Q, 且Ai+1是Ai的邻接点，i=1,2,...n-1. 区域就是指这样的集合，其中任意两个像素之间都存在着完全属于该集合的路径。    
如果两个像素之间存在一条路径，那么这些像素就是连通的（contiguous），所以可以说，区域是彼此连通的像素的集合。连通关系是自反的，对称的且传递的，因此它定义了集合（图像）的一个分解，即等价类（区域）。     
Ri 是连通关系产生的不相交的区域并假设这区域和图像的边界不接触，假设R 是所有这些区域Ri 的并集，R^c 是区域R 相对于图像的补集合。称包含图像边界的R^c 的连通子集合为背景，而弥补集合R^c 的其他部分为孔；如果区域中没有孔，称为简单连通（simply contiguous）区域；简单连通区域的补集合是连通的。有孔的区域称为复连通（multiple contiguous）.    
可以给区域赋予第二属性，可以称图像中的一些区域为物体（objects），决定图像中哪些区域对应于世界中的物体的过程是图像分割（segmentation）.  
定义在方形栅格上的邻接性和连通性会构成悖论，
解决连通性的唯一方法是对物体用4-邻接处理，对北京用8-邻接处理。（或反过来）多数数字化转换器使用方形栅格。    
解决连接性的问题的方法是使用基于单元复合（cellular complexes）的离散拓扑。   
距离变换（distance transform），也叫做距离函数（distance function），或则斜切算法（chamfering algorithm）或则简单地斜切（chamfering），是距离概念的一个简单应用。它提供了像素与某个图像子集的距离。      
假设有一副二值图像，1表示物体，0表示背景。p15. 对于距离度量D4 和D8，有一个计算距离变换的两遍算法。用一个小的局部掩膜（mask）遍历图像。第一遍从左上角开始，水平从左到右直至图像边界，然后返回到下一行开始出继续；第二遍从右下角开始，使用一个不同的局部掩膜，从右到左，从下到上。以波浪状的方式传播前一步侦测的数值。       <br>
算法 2.1 距离变换 </br>   
1. 按照一种距离度量D，D 是D4 或D8，对大小为M* N的图像的一个子集S 计算距离变换，建立一个M* N的数组F 并作初始化：子集S 中的元素置为0，其他置为无穷   
2. 按行遍历图像，从上到下，从左到右。    
3. 按行遍历图像，从下到上，从右到左。   
4. 数组F 中得到的是子集S 的斜切。    
<br>
边缘edge，是一个像素和其直接领域的局部性质，它是一个有大小和方向的矢量。它会告诉我们在一个像素的小领域内图像亮度变化有多快。边缘计算的对象是具有很多亮度级别的图像，计算边缘的方式是计算图像函数的梯度。边缘的方向与梯度的方向垂直，梯度方向指向函数增长的方向。     














